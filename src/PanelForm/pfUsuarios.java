/*
 * To change this license header, choose License Headers in Project Properties.
 * To change this template file, choose Tools | Templates
 * and open the template in the editor.
 */
package PanelForm;

import Conexion.ExeSql;
import Formularios.fmMain;
import java.awt.Point;
import java.sql.ResultSet;
import javax.swing.JOptionPane;
import javax.swing.table.DefaultTableModel;

/**
 *
 * @author David Alcaman
 */
public class pfUsuarios extends javax.swing.JPanel {

    /**
     * Creates new form pfUsuarios
     */
    public pfUsuarios() {
      
        initComponents();
        CargaUsuarios();
        CargaCCostos();
        GrillaCostos.changeSelection(0, 0 , false, false);
    }

    /**
     * This method is called from within the constructor to initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is always
     * regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
    private void initComponents() {

        pnMenu = new javax.swing.JPanel();
        btNuevo = new javax.swing.JButton();
        btGuardar = new javax.swing.JButton();
        btCancelar = new javax.swing.JButton();
        btEditar = new javax.swing.JButton();
        jPanel2 = new javax.swing.JPanel();
        jPanel1 = new javax.swing.JPanel();
        jLabel1 = new javax.swing.JLabel();
        jLabel2 = new javax.swing.JLabel();
        txNombre = new javax.swing.JTextField();
        txUsuario = new javax.swing.JTextField();
        jComboBox1 = new javax.swing.JComboBox();
        jLabel4 = new javax.swing.JLabel();
        jLabel5 = new javax.swing.JLabel();
        txPassword = new javax.swing.JPasswordField();
        jLabel6 = new javax.swing.JLabel();
        txPaterno = new javax.swing.JTextField();
        jLabel7 = new javax.swing.JLabel();
        txRut = new javax.swing.JTextField();
        jLabel8 = new javax.swing.JLabel();
        txMaterno = new javax.swing.JTextField();
        jLabel9 = new javax.swing.JLabel();
        txNivel = new javax.swing.JTextField();
        jScrollPane1 = new javax.swing.JScrollPane();
        Grilla = new javax.swing.JTable();
        jPanel3 = new javax.swing.JPanel();
        jLabel3 = new javax.swing.JLabel();
        ch_administrador = new javax.swing.JCheckBox();
        ch_transformacion = new javax.swing.JCheckBox();
        ch_cobranza = new javax.swing.JCheckBox();
        ch_ajuste = new javax.swing.JCheckBox();
        ch_gastos = new javax.swing.JCheckBox();
        jSeparator1 = new javax.swing.JSeparator();
        ch_adminocp = new javax.swing.JCheckBox();
        ch_bodega = new javax.swing.JCheckBox();
        jScrollPane2 = new javax.swing.JScrollPane();
        GrillaCostos = new javax.swing.JTable();
        esactivo = new javax.swing.JCheckBox();
        bt_cancelar = new javax.swing.JButton();

        pnMenu.setBackground(new java.awt.Color(220, 215, 226));

        btNuevo.setIcon(new javax.swing.ImageIcon(getClass().getResource("/Iconos16/add16.png"))); // NOI18N
        btNuevo.setText("Nuevo");
        btNuevo.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btNuevoActionPerformed(evt);
            }
        });

        btGuardar.setIcon(new javax.swing.ImageIcon(getClass().getResource("/Iconos16/save16.png"))); // NOI18N
        btGuardar.setText("Guardar");
        btGuardar.setBorder(null);
        btGuardar.setEnabled(false);
        btGuardar.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btGuardarActionPerformed(evt);
            }
        });

        btCancelar.setIcon(new javax.swing.ImageIcon(getClass().getResource("/Iconos16/Cancel16.png"))); // NOI18N
        btCancelar.setText("Eliminar");
        btCancelar.setEnabled(false);
        btCancelar.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btCancelarActionPerformed(evt);
            }
        });

        btEditar.setIcon(new javax.swing.ImageIcon(getClass().getResource("/Iconos16/Pencil16.png"))); // NOI18N
        btEditar.setText("Editar");
        btEditar.setEnabled(false);
        btEditar.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btEditarActionPerformed(evt);
            }
        });

        jPanel2.setBackground(new java.awt.Color(220, 215, 226));
        jPanel2.setBorder(javax.swing.BorderFactory.createEtchedBorder());

        jPanel1.setBackground(new java.awt.Color(220, 215, 226));
        jPanel1.setBorder(javax.swing.BorderFactory.createEtchedBorder(javax.swing.border.EtchedBorder.RAISED));

        jLabel1.setText("Nombres");

        jLabel2.setText("Usuario");

        txNombre.setEditable(false);
        txNombre.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                txNombreActionPerformed(evt);
            }
        });
        txNombre.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyReleased(java.awt.event.KeyEvent evt) {
                txNombreKeyReleased(evt);
            }
        });

        txUsuario.setEditable(false);
        txUsuario.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyReleased(java.awt.event.KeyEvent evt) {
                txUsuarioKeyReleased(evt);
            }
        });

        jComboBox1.setModel(new javax.swing.DefaultComboBoxModel(new String[] { "Administrador", "Comprador", "Ventas", "Tesoreria" }));

        jLabel4.setText("Grupo");

        jLabel5.setText("Clave");

        txPassword.setText("jPasswordField1");
        txPassword.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                txPasswordActionPerformed(evt);
            }
        });

        jLabel6.setText("Paterno");

        txPaterno.setEditable(false);
        txPaterno.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                txPaternoActionPerformed(evt);
            }
        });
        txPaterno.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyReleased(java.awt.event.KeyEvent evt) {
                txPaternoKeyReleased(evt);
            }
        });

        jLabel7.setText("Rut");

        txRut.setEditable(false);
        txRut.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyReleased(java.awt.event.KeyEvent evt) {
                txRutKeyReleased(evt);
            }
        });

        jLabel8.setText("Materno");

        txMaterno.setEditable(false);
        txMaterno.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyReleased(java.awt.event.KeyEvent evt) {
                txMaternoKeyReleased(evt);
            }
        });

        jLabel9.setText("Nivel");

        txNivel.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                txNivelActionPerformed(evt);
            }
        });

        javax.swing.GroupLayout jPanel1Layout = new javax.swing.GroupLayout(jPanel1);
        jPanel1.setLayout(jPanel1Layout);
        jPanel1Layout.setHorizontalGroup(
            jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel1Layout.createSequentialGroup()
                .addGap(13, 13, 13)
                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(jPanel1Layout.createSequentialGroup()
                        .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(jLabel2)
                            .addComponent(jLabel4)
                            .addComponent(jLabel5))
                        .addGap(18, 18, 18)
                        .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(txPassword, javax.swing.GroupLayout.PREFERRED_SIZE, 100, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(jComboBox1, javax.swing.GroupLayout.PREFERRED_SIZE, 196, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(txUsuario, javax.swing.GroupLayout.PREFERRED_SIZE, 124, javax.swing.GroupLayout.PREFERRED_SIZE)))
                    .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                        .addGroup(jPanel1Layout.createSequentialGroup()
                            .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                .addComponent(jLabel1)
                                .addComponent(jLabel7)
                                .addComponent(jLabel6))
                            .addGap(18, 18, 18)
                            .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                .addComponent(txPaterno, javax.swing.GroupLayout.PREFERRED_SIZE, 216, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addComponent(txRut, javax.swing.GroupLayout.PREFERRED_SIZE, 116, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addComponent(txNombre, javax.swing.GroupLayout.PREFERRED_SIZE, 198, javax.swing.GroupLayout.PREFERRED_SIZE)))
                        .addGroup(jPanel1Layout.createSequentialGroup()
                            .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                .addComponent(jLabel8)
                                .addComponent(jLabel9))
                            .addGap(22, 22, 22)
                            .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                .addComponent(txMaterno, javax.swing.GroupLayout.PREFERRED_SIZE, 214, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addComponent(txNivel, javax.swing.GroupLayout.PREFERRED_SIZE, 107, javax.swing.GroupLayout.PREFERRED_SIZE)))))
                .addContainerGap(39, Short.MAX_VALUE))
        );
        jPanel1Layout.setVerticalGroup(
            jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel1Layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel7)
                    .addComponent(txRut, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(4, 4, 4)
                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel1)
                    .addComponent(txNombre, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel6)
                    .addComponent(txPaterno, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel8)
                    .addComponent(txMaterno, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel9)
                    .addComponent(txNivel, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, 47, Short.MAX_VALUE)
                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel4)
                    .addComponent(jComboBox1, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(txUsuario, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jLabel2))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel5)
                    .addComponent(txPassword, javax.swing.GroupLayout.PREFERRED_SIZE, 20, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(26, 26, 26))
        );

        jLabel9.getAccessibleContext().setAccessibleName("lbnivel");

        Grilla.setModel(new javax.swing.table.DefaultTableModel(
            new Object [][] {

            },
            new String [] {
                "Id", "Usuario", "id_usuario"
            }
        ) {
            boolean[] canEdit = new boolean [] {
                false, false, false
            };

            public boolean isCellEditable(int rowIndex, int columnIndex) {
                return canEdit [columnIndex];
            }
        });
        Grilla.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                GrillaMouseClicked(evt);
            }
            public void mousePressed(java.awt.event.MouseEvent evt) {
                GrillaMousePressed(evt);
            }
        });
        jScrollPane1.setViewportView(Grilla);
        if (Grilla.getColumnModel().getColumnCount() > 0) {
            Grilla.getColumnModel().getColumn(0).setMinWidth(0);
            Grilla.getColumnModel().getColumn(0).setPreferredWidth(0);
            Grilla.getColumnModel().getColumn(0).setMaxWidth(0);
            Grilla.getColumnModel().getColumn(1).setMinWidth(180);
            Grilla.getColumnModel().getColumn(1).setPreferredWidth(180);
            Grilla.getColumnModel().getColumn(1).setMaxWidth(180);
            Grilla.getColumnModel().getColumn(2).setMinWidth(0);
            Grilla.getColumnModel().getColumn(2).setPreferredWidth(0);
            Grilla.getColumnModel().getColumn(2).setMaxWidth(0);
        }

        jPanel3.setBackground(new java.awt.Color(220, 215, 226));
        jPanel3.setBorder(javax.swing.BorderFactory.createEtchedBorder(javax.swing.border.EtchedBorder.RAISED));

        jLabel3.setFont(new java.awt.Font("Tahoma", 1, 11)); // NOI18N
        jLabel3.setForeground(new java.awt.Color(0, 51, 153));
        jLabel3.setText("Permisos");

        ch_administrador.setBackground(new java.awt.Color(220, 215, 226));
        ch_administrador.setText("Administrador");

        ch_transformacion.setBackground(new java.awt.Color(220, 215, 226));
        ch_transformacion.setText("Transformación");

        ch_cobranza.setBackground(new java.awt.Color(220, 215, 226));
        ch_cobranza.setText("Cobranza");
        ch_cobranza.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                ch_cobranzaActionPerformed(evt);
            }
        });

        ch_ajuste.setBackground(new java.awt.Color(220, 215, 226));
        ch_ajuste.setText("Ajuste");

        ch_gastos.setBackground(new java.awt.Color(220, 215, 226));
        ch_gastos.setText("Gastos");

        ch_adminocp.setBackground(new java.awt.Color(220, 215, 226));
        ch_adminocp.setText("AdminOcp");

        ch_bodega.setBackground(new java.awt.Color(220, 215, 226));
        ch_bodega.setText("Bodega");

        javax.swing.GroupLayout jPanel3Layout = new javax.swing.GroupLayout(jPanel3);
        jPanel3.setLayout(jPanel3Layout);
        jPanel3Layout.setHorizontalGroup(
            jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel3Layout.createSequentialGroup()
                .addContainerGap()
                .addComponent(jLabel3, javax.swing.GroupLayout.PREFERRED_SIZE, 81, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addGroup(jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(jPanel3Layout.createSequentialGroup()
                        .addGap(44, 44, 44)
                        .addComponent(ch_administrador)
                        .addGap(18, 18, 18)
                        .addComponent(ch_ajuste)
                        .addGap(18, 18, 18)
                        .addComponent(ch_transformacion)
                        .addGap(18, 18, 18)
                        .addComponent(ch_cobranza)
                        .addGap(29, 29, 29)
                        .addComponent(ch_gastos)
                        .addGap(10, 10, 10)
                        .addComponent(ch_adminocp)
                        .addGap(18, 18, 18)
                        .addComponent(ch_bodega))
                    .addComponent(jSeparator1, javax.swing.GroupLayout.PREFERRED_SIZE, 715, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addContainerGap(110, Short.MAX_VALUE))
        );
        jPanel3Layout.setVerticalGroup(
            jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel3Layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jLabel3)
                    .addGroup(jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                        .addComponent(ch_transformacion)
                        .addComponent(ch_cobranza)
                        .addComponent(ch_ajuste)
                        .addComponent(ch_gastos)
                        .addComponent(ch_administrador)
                        .addComponent(ch_adminocp)
                        .addComponent(ch_bodega)))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(jSeparator1, javax.swing.GroupLayout.PREFERRED_SIZE, 15, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );

        GrillaCostos.setModel(new javax.swing.table.DefaultTableModel(
            new Object [][] {

            },
            new String [] {
                "Id", "Centro Costo"
            }
        ) {
            boolean[] canEdit = new boolean [] {
                false, false
            };

            public boolean isCellEditable(int rowIndex, int columnIndex) {
                return canEdit [columnIndex];
            }
        });
        GrillaCostos.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                GrillaCostosMouseClicked(evt);
            }
        });
        jScrollPane2.setViewportView(GrillaCostos);
        if (GrillaCostos.getColumnModel().getColumnCount() > 0) {
            GrillaCostos.getColumnModel().getColumn(0).setMinWidth(0);
            GrillaCostos.getColumnModel().getColumn(0).setPreferredWidth(0);
            GrillaCostos.getColumnModel().getColumn(0).setMaxWidth(0);
            GrillaCostos.getColumnModel().getColumn(1).setMinWidth(180);
            GrillaCostos.getColumnModel().getColumn(1).setPreferredWidth(180);
            GrillaCostos.getColumnModel().getColumn(1).setMaxWidth(180);
        }

        esactivo.setText("Activo");

        javax.swing.GroupLayout jPanel2Layout = new javax.swing.GroupLayout(jPanel2);
        jPanel2.setLayout(jPanel2Layout);
        jPanel2Layout.setHorizontalGroup(
            jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel2Layout.createSequentialGroup()
                .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(jPanel2Layout.createSequentialGroup()
                        .addComponent(jScrollPane1, javax.swing.GroupLayout.PREFERRED_SIZE, 203, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGap(18, 18, 18)
                        .addComponent(jPanel1, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGap(18, 18, 18)
                        .addComponent(jScrollPane2, javax.swing.GroupLayout.PREFERRED_SIZE, 203, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                        .addComponent(esactivo, javax.swing.GroupLayout.PREFERRED_SIZE, 75, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addComponent(jPanel3, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );
        jPanel2Layout.setVerticalGroup(
            jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel2Layout.createSequentialGroup()
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING, false)
                        .addComponent(jScrollPane1, javax.swing.GroupLayout.Alignment.LEADING, javax.swing.GroupLayout.PREFERRED_SIZE, 0, Short.MAX_VALUE)
                        .addComponent(jPanel1, javax.swing.GroupLayout.Alignment.LEADING, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                        .addComponent(jScrollPane2, javax.swing.GroupLayout.PREFERRED_SIZE, 0, Short.MAX_VALUE))
                    .addComponent(esactivo))
                .addGap(37, 37, 37)
                .addComponent(jPanel3, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(217, 217, 217))
        );

        bt_cancelar.setText("Cancelar");
        bt_cancelar.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                bt_cancelarActionPerformed(evt);
            }
        });

        javax.swing.GroupLayout pnMenuLayout = new javax.swing.GroupLayout(pnMenu);
        pnMenu.setLayout(pnMenuLayout);
        pnMenuLayout.setHorizontalGroup(
            pnMenuLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(pnMenuLayout.createSequentialGroup()
                .addGap(181, 181, 181)
                .addComponent(btGuardar, javax.swing.GroupLayout.PREFERRED_SIZE, 91, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(btCancelar)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(btNuevo)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(btEditar)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addComponent(bt_cancelar)
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
            .addGroup(pnMenuLayout.createSequentialGroup()
                .addComponent(jPanel2, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                .addGap(209, 209, 209))
        );
        pnMenuLayout.setVerticalGroup(
            pnMenuLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(pnMenuLayout.createSequentialGroup()
                .addGap(6, 6, 6)
                .addGroup(pnMenuLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                    .addGroup(javax.swing.GroupLayout.Alignment.LEADING, pnMenuLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                        .addComponent(btEditar)
                        .addComponent(bt_cancelar))
                    .addGroup(javax.swing.GroupLayout.Alignment.LEADING, pnMenuLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING, false)
                        .addComponent(btCancelar, javax.swing.GroupLayout.Alignment.LEADING, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                        .addComponent(btNuevo, javax.swing.GroupLayout.Alignment.LEADING, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                        .addComponent(btGuardar, javax.swing.GroupLayout.Alignment.LEADING, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(jPanel2, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                .addGap(23, 23, 23))
        );

        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(this);
        this.setLayout(layout);
        layout.setHorizontalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(pnMenu, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
        );
        layout.setVerticalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(layout.createSequentialGroup()
                .addComponent(pnMenu, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );
    }// </editor-fold>//GEN-END:initComponents
 //--------------------------------------------------------------------------------
// Funcion SET DE TIPOS
//--------------------------------------------------------------------------------
    private void SetTipo(int ElTipo){
        switch (ElTipo){
            //Nada
            case -1: break;
                
            //Nuevo
            case 1: 
                Editar(true);
                Limpiar();
                txRut.requestFocus();
                btGuardar.setEnabled(true);
                btCancelar.setEnabled(true);
                btNuevo.setEnabled(true);
                btEditar.setEnabled(true);
                break;
                
            
            //Editando    
            case 2: 
                Editar(true);
                Limpiar();
                GrillaMouseClicked(null);
                btGuardar.setEnabled(true);
                btCancelar.setEnabled(true);
                btNuevo.setEnabled(false);
                btEditar.setEnabled(true);
                
                break;
                
            //Grabando    
            case 3:
                Editar(true);
                btGuardar.setEnabled(true);
                btCancelar.setEnabled(false);
                btNuevo.setEnabled(true);
                btEditar.setEnabled(false);   
                 break;
                
              //Cancelar    
            case 4:
                Editar(false);
                Limpiar();
                
//                GrillaMouseClicked(null);
                btGuardar.setEnabled(false);
                btCancelar.setEnabled(true);
                btNuevo.setEnabled(true);
                btEditar.setEnabled(false);   
                btCancelar.setEnabled(false);
                Grilla.changeSelection(0, 1, false, false );
                
                GrillaCostos.changeSelection(0, 1, false, false );
                break;
                
        }
    }
    
    private void Editar(boolean Estado){
        
        txUsuario.setEditable(Estado);
        txPassword.setEditable(Estado);
        
        txRut.setEditable(Estado);
        txNombre.setEditable(Estado);
        txPaterno.setEditable(Estado);
        txMaterno.setEditable(Estado);
        txNivel.setEditable(Estado);

//        ch_administrador.setSelected(false);
//        ch_adminocp.setSelected(false);
//        ch_ajuste.setSelected(false);
//        ch_cobranza.setSelected(false);
//        ch_gastos.setSelected(false);
//        ch_transformacion.setSelected(false);
        
    }
    private void Limpiar(){
        txRut.setText("");
        txPaterno.setText("");
        txUsuario.setText("");
        txNombre.setText("");
        txMaterno.setText("");
        txPassword.setSize(100, 20);
        txPassword.setText("");
        txNivel.setText("");
        
        ch_administrador.setSelected(false);
        ch_adminocp.setSelected(false);
        ch_ajuste.setSelected(false);
        ch_cobranza.setSelected(false);
        ch_gastos.setSelected(false);
        ch_transformacion.setSelected(false);
        
    }
    private void CargaUsuarios(){
        ExeSql Sql = new ExeSql();
        ResultSet Rs;
        DefaultTableModel dfTm = (DefaultTableModel) Grilla.getModel();
        
        Limpiar();
        fmMain.LimpiaGrilla(dfTm);
        try {
           // Rs = Sql.Select("select * from pg_user where usename <> 'postgres'");
             Rs = Sql.Select(" select p.usesysid, p.usename, u.usuario, u.id from pg_user p \n" +
                                " left join usuario u\n" +
                                " on lower(u.usuario) = p.usename \n" +
                                " where usename <> 'postgres' order by p.usename");

            
            while(Rs.next()){
                dfTm.addRow(new Object[]{Rs.getString("usesysid"),Rs.getString("usename"), Rs.getInt("id")});
            }
                
        } catch (Exception e) {
        }
    }
     private void CargaCCostos(){
        ExeSql Sql = new ExeSql();
        ResultSet Rs;
        DefaultTableModel dfTm = (DefaultTableModel) GrillaCostos.getModel();
        
        Limpiar();
        try {
            Rs = Sql.Select(" SELECT * FROM PCCOSTOS");
            while(Rs.next()){
                dfTm.addRow(new Object[]{Rs.getString("id"),Rs.getString("nombre")});
            }
                
        } catch (Exception e) {
        }
    }        
    
    private void btNuevoActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btNuevoActionPerformed
        SetTipo(1);        
    }//GEN-LAST:event_btNuevoActionPerformed

    private void btGuardarActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btGuardarActionPerformed
        ExeSql Sql = new ExeSql();
        String Query ="";
         ResultSet Rs;
        
         
//         Objetivo: Tener una unica pantalla para administraciòn de usuarios creacion, modificacion y eliminaciòn de usuarios.
//         Fecha: 10/02/2016
//         Modificación: Cristian Ramírez   
           //GrillaCostos.getModel().getValueAt(GrillaCostos.getSelectedRow(),0).toString(); 
               
        if(txNombre.getText().isEmpty() || txUsuario.getText().isEmpty() || txRut.getText().isEmpty())
        {
            fmMain.Mensaje("Faltan valores por Ingresar Nombre o Usuario o Password o Rut.");
            return;
            
        }
        
        if ( txPassword.getText().isEmpty() ) {
            fmMain.Mensaje("Si la Password esta vacia se mantendrá la clave actual.");
        }
      
        try {
            
            Query = "select  usename usuario,passwd from pg_user where usename='" + txUsuario.getText().toLowerCase()+"';";
            Rs = Sql.Select(Query);
            
            // Si existe el usuario se actualizan todos los datos
            if (Rs.next()) {
                
                // Actualiza usuario de la tabla pg_user.
                txUsuario.setText(Rs.getString("usuario").trim());
                
//                   if(!txPassword.getText().equals(fmMain.GetPass())){
//                        fmMain.Mensaje("Nuevas claves no coinciden");
//                        return;
//                    } 
               if  ( txPassword.getText().isEmpty())  {
               } 
               else{   
                   Query ="alter user "+ txUsuario.getText().toLowerCase().trim() +" with password '"+ txPassword.getText().trim() +"'";
                    Sql.ExeSql(Query);
               }               
                       if (txNivel.getText().trim()  == ""){
                           txNivel.setText("0");
                       }
                        // Actualiza tabla de usuario        
                            Query = "update usuario set nombre = '" + txNombre.getText().trim() + " " + txPaterno.getText().trim() + "'\n" +
                         " , nivel = " + txNivel.getText().trim()  +
                         " , activo = "+esactivo.isSelected()+" where  id  = " + Grilla.getModel().getValueAt(Grilla.getSelectedRow(),2).toString();
                        Sql.ExeSql(Query);
                        
                        // Actualiza la tabla personal_ccostos 
                        Query = " update  personal_ccostos set ccosto = " + GrillaCostos.getModel().getValueAt(GrillaCostos.getSelectedRow(),0).toString() +  "\n" +
                                    " where rut ='" + txRut.getText().trim() + "';";

                        Sql.ExeSql(Query);
                     
                        // Actualiza la tabla personal
                        Query = "update personal set nombre = '" +  txNombre.getText().trim() + "', apellidopaterno = '" + txPaterno.getText().trim() + "', apellidomaterno = '"  + txMaterno.getText().trim() + "'" + 
                                " where rut =" + txRut.getText().trim() +";";
                        Sql.ExeSql(Query);
                        
                        Query = "update pacceso set administrador = '" +  ch_administrador.isSelected() + "', ajuste = '" + ch_ajuste.isSelected() + "', cobranza = '"  + ch_cobranza.isSelected() + "'," + 
                                " transformacion = '" +  ch_transformacion.isSelected() + "', gastos = '"  + ch_gastos.isSelected() + "', adminocp = '" + ch_adminocp.isSelected() + "', bodega = '"  + ch_bodega.isSelected() + "' " +
                                " where rut =" + txRut.getText().trim() +";";
                        Sql.ExeSql(Query);
                        
               Sql.Commit();
               CargaUsuarios();
               
            fmMain.Mensaje("Usuario Modificado Éxitosamente" );
            Rs.close();
            SetTipo(1);  
            
            }
            else{
                //Se crea el usuario nuevo
                            //Query = "select usesysid from pg_user where usename = '" + txUsuario.getText().trim() + "'";
                            
                       Query = "CREATE USER " + txUsuario.getText().trim() + " PASSWORD '" + txPassword.getText() + "';\n" +
                             "ALTER ROLE " + txUsuario.getText().toLowerCase().trim() + " WITH SUPERUSER;\n";
      
                       Sql.ExeSql(Query);
                        //String Id = Sql.SelectUnico(Query);
                       
                       // lo crea en tabla usuario
                       Query = "  INSERT INTO USUARIO \n" +
                                        " (\n" +
                                        "usuario,\n" +
                                        "nombre,\n" +
                                        "nivel,\n" +
                                        "ajuste,\n" +
                                        "cobranza,\n" +
                                        "transformacion,\n" +
                                        "admin_ocp)\n" +
                                        "VALUES('" + txUsuario.getText().trim() + "','" + txNombre.getText().trim() + " " + txPaterno.getText().trim() + "'," + txNivel.getText().trim() + ",0,0,0,0);";
                        Sql.ExeSql(Query);
                        
                        // Se Asigna a la tabla Centro de Costos
                        Query = " INSERT INTO personal_ccostos(rut,ccosto) \n" +
                                    " VALUES(" + txRut.getText().trim() + ","+ GrillaCostos.getModel().getValueAt(GrillaCostos.getSelectedRow(),0).toString() +  ");";

                        Sql.ExeSql(Query);
                     
                        
                        // Ingresa los datos en la tabla personal
                        Query="insert into personal(rut, nombre, usuario, vendedor, apellidopaterno,\n" +
                                " apellidomaterno, direccion, poblacion, ciudad, celular)\n" +
                                "values (" +  txRut.getText().trim() +" , '" + txNombre.getText().trim() + " ','" + txUsuario.getText().trim() + "', NULL, '" + txPaterno.getText().trim() + "','" + txMaterno.getText().trim() + "',\n" +
                                " '', '', '', '');";
                        
                        Sql.ExeSql(Query);
                        
                        
                         
                         Query = " insert into pacceso( \n" +
                                " rut,\n" +
                                " administrador,\n" +
                                " ajuste,\n" +
                                " transformacion,\n" +
                                " cobranza,\n" +
                                " gastos,\n" +
                                " bodega,\n" +
                                " adminocp)\n" +
                                " VALUES("+ txRut.getText().trim()  + ",'" + ch_administrador.isSelected() 
                                 + "','" + ch_ajuste.isSelected() + "','" + ch_transformacion.isSelected() 
                                 + "','" + ch_cobranza.isSelected() + "','" + ch_gastos.isSelected() 
                                 + "','" + ch_bodega.isSelected() 
                                 + "','" + ch_adminocp.isSelected() + "');" ;
                        Sql.ExeSql(Query);
                      
                        Sql.Commit();
                         CargaUsuarios();
                fmMain.Mensaje("El usuario ha sido Creado Correctamente");
            }
            
            
            
     
        } catch (Exception e) {
            JOptionPane.showMessageDialog(null, e);
            Sql.Rollback();
        }
        finally {
            Sql.Close();
        }
        
    }//GEN-LAST:event_btGuardarActionPerformed

    private void txUsuarioKeyReleased(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_txUsuarioKeyReleased
        txUsuario.setText(txUsuario.getText().toUpperCase());
    }//GEN-LAST:event_txUsuarioKeyReleased

    private void txNombreKeyReleased(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_txNombreKeyReleased
        txNombre.setText(txNombre.getText().toUpperCase());
    }//GEN-LAST:event_txNombreKeyReleased

    private void GrillaMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_GrillaMouseClicked
  ExeSql Sql = new ExeSql();
  ResultSet Rs,Rs1;
   String Query ="";
    String Query2 ="";
    
    btEditar.setEnabled(true);
    Limpiar();
   Query = "select usesysid, usename usuario,passwd from pg_user where usesysid=" + Grilla.getModel().getValueAt(Grilla.getSelectedRow(),0).toString() +";";
   try {
        Rs = Sql.Select(Query);
            if (Rs.next()) {
                txUsuario.setText(Rs.getString("usuario").trim());
                txPassword.setText("");
                Rs.close();
            }
            
            
//        Query2=" SELECT p.rut, p.nombre, p.apellidopaterno paterno, p.apellidomaterno materno, u.usuario  FROM \n" +
//                "  USUARIO U\n" +
//                "  left join personal p\n" +
//                "  on u.usuario = p.usuario\n" +
//                "  WHERE u.usuario ='" + txUsuario.getText().toUpperCase().trim() + "';";
        Query2="select p.rut, p.nombre,p.usuario,p.apellidopaterno paterno,p.apellidomaterno materno,\n" +
                "a.administrador administrador_acc,a.ajuste ajuste_acc ,a.cobranza cobranza_acc,\n" +
                "a.gastos gastos_acc ,a.transformacion transformacion_acc, a.bodega, \n" +
                "a.adminocp adminocp_acc,cc.ccosto ccosto_pcc,p.rut rut_pers, u.nivel, u.activo\n" +
                "from personal p\n" +
                "left join pacceso a on p.rut=a.rut \n" +
                "left join personal_ccostos cc on p.rut=cc.rut\n" +
                "left join usuario u on u.usuario = p.usuario" +
                "  WHERE u.usuario ='" + txUsuario.getText().toUpperCase().trim() + "';";
            // Ahora buscamos el nombre de usuario
             Rs1 = Sql.Select(Query2);
            if (Rs1.next()) {
                txNombre.setText(Rs1.getString("nombre").toUpperCase().trim());     
                txPaterno.setText(Rs1.getString("paterno").toUpperCase().trim());
                txMaterno.setText(Rs1.getString("materno").toUpperCase().trim());
                txRut.setText(Rs1.getString("rut").toUpperCase().trim());
                txNivel.setText(Rs1.getString("nivel"));
                boolean admin_boo = Rs1.getBoolean("administrador_acc");
                esactivo.setSelected(Rs1.getBoolean("activo"));
                if (admin_boo ){
                       ch_administrador.setSelected(true);
                } else
                {
                    ch_administrador.setSelected(false);
                }   
                
                 boolean ajuste_boo = Rs1.getBoolean("ajuste_acc");
                if (ajuste_boo ){
                       ch_ajuste.setSelected(true);
                } else
                {
                    ch_ajuste.setSelected(false);
                }   
                 
                boolean cobranza_boo = Rs1.getBoolean("cobranza_acc");
                if (cobranza_boo ){
                       ch_cobranza.setSelected(true);
                } else
                {
                    ch_cobranza.setSelected(false);
                }
                
                   boolean gastos_boo = Rs1.getBoolean("gastos_acc");
                if (gastos_boo ){
                       ch_gastos.setSelected(true);
                } else
                {
                    ch_gastos.setSelected(false);
                }
                
                 boolean transformacion_boo = Rs1.getBoolean("transformacion_acc");
                if (transformacion_boo ){
                       ch_transformacion.setSelected(true);
                } else
                {
                    ch_transformacion.setSelected(false);
                }
                boolean adminocp_boo = Rs1.getBoolean("adminocp_acc");
                if (adminocp_boo ){
                      ch_adminocp.setSelected(true);
                } else
                {
                    ch_adminocp.setSelected(false);
                }
                
                boolean bodega_boo = Rs1.getBoolean("bodega");
                if (bodega_boo ){
                     ch_bodega.setSelected(true);
                } else
                {
                    ch_bodega.setSelected(false);
                }
                for(int i = 0; i < GrillaCostos.getRowCount(); i++){
                    if(GrillaCostos.getValueAt(i,0).toString().equals(Rs1.getString("ccosto_pcc"))){
                        GrillaCostos.changeSelection(i, 1, false, false);
                        break;
                    }
                }
                
                //txPassword.setText(fmMain.GetPass()); 
                  txPassword.setText("");
                
                
                Rs1.close();
                Sql.Close();
            }
     
        } catch (Exception e) {
                 Sql.Close();
        }        // TODO add your handling code here:
    }//GEN-LAST:event_GrillaMouseClicked

    private void btEditarActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btEditarActionPerformed
        // TODO add your handling code here:
        SetTipo(2); 
    }//GEN-LAST:event_btEditarActionPerformed

    private void txPaternoKeyReleased(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_txPaternoKeyReleased
         txPaterno.setText(txPaterno.getText().toUpperCase());

    }//GEN-LAST:event_txPaternoKeyReleased

    private void txRutKeyReleased(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_txRutKeyReleased
        // TODO add your handling code here:
    }//GEN-LAST:event_txRutKeyReleased

    private void GrillaCostosMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_GrillaCostosMouseClicked
        // TODO add your handling code here:
    }//GEN-LAST:event_GrillaCostosMouseClicked

    private void txMaternoKeyReleased(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_txMaternoKeyReleased
                txMaterno.setText(txMaterno.getText().toUpperCase());
    }//GEN-LAST:event_txMaternoKeyReleased

    private void ch_cobranzaActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_ch_cobranzaActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_ch_cobranzaActionPerformed

    private void txPasswordActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_txPasswordActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_txPasswordActionPerformed

    private void btCancelarActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btCancelarActionPerformed
        // Eliminar los datos relacionados a un usuario
      ExeSql Sql = new ExeSql();
      ResultSet Rs,Rs1;
      String Query ="";
      String Query2 ="";    
      
      try{
          
                      
        if(txUsuario.getText().isEmpty() ||  txRut.getText().isEmpty())
        {
            fmMain.Mensaje("Faltan valores por Ingresar Usuario o Rut.");
            return;
        } 
          
        Query2 = "delete from pacceso  where rut = " + txRut.getText() + ";";
        Sql.ExeSql(Query2);
      
        Query2 = "delete from personal_ccostos where rut = " + txRut.getText().trim() + ";";
        Sql.ExeSql(Query2);

        Query2 = "delete from personal where rut =" + txRut.getText().trim() + ";";
        Sql.ExeSql(Query2);

        // delete usuario
        Query2 = "delete from usuario where usuario = '" + txUsuario.getText().toUpperCase() + "';";
        Sql.ExeSql(Query2);

        Query2 = "drop user " + txUsuario.getText().toLowerCase() + ";";
        Sql.ExeSql(Query2);
        Sql.Commit();
        CargaUsuarios();
        
        fmMain.Mensaje("Usuario Eliminado del Sistema.");
        } catch (Exception e) {
                 Sql.Close();
        }        
        
        
    }//GEN-LAST:event_btCancelarActionPerformed

    private void txNombreActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_txNombreActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_txNombreActionPerformed

    private void txPaternoActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_txPaternoActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_txPaternoActionPerformed

    private void bt_cancelarActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_bt_cancelarActionPerformed
        // TODO add your handling code here:
        SetTipo(4);  // Deja todo con las opciones de  nuevo
    }//GEN-LAST:event_bt_cancelarActionPerformed

    private void txNivelActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_txNivelActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_txNivelActionPerformed

    private void GrillaMousePressed(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_GrillaMousePressed
//      if (evt.getClickCount() > 1) {
//        Point point = evt.getPoint();
//        int row = Grilla.rowAtPoint(point);
//        int column = Grilla.columnAtPoint(point);
//        DefaultTableModel model = (DefaultTableModel) Grilla.getModel();
//       JOptionPane.showMessageDialog(this, model.getValueAt(row, column));
//    }
    }//GEN-LAST:event_GrillaMousePressed


    // Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.swing.JTable Grilla;
    private javax.swing.JTable GrillaCostos;
    private javax.swing.JButton btCancelar;
    private javax.swing.JButton btEditar;
    private javax.swing.JButton btGuardar;
    private javax.swing.JButton btNuevo;
    private javax.swing.JButton bt_cancelar;
    private javax.swing.JCheckBox ch_administrador;
    private javax.swing.JCheckBox ch_adminocp;
    private javax.swing.JCheckBox ch_ajuste;
    private javax.swing.JCheckBox ch_bodega;
    private javax.swing.JCheckBox ch_cobranza;
    private javax.swing.JCheckBox ch_gastos;
    private javax.swing.JCheckBox ch_transformacion;
    private javax.swing.JCheckBox esactivo;
    private javax.swing.JComboBox jComboBox1;
    private javax.swing.JLabel jLabel1;
    private javax.swing.JLabel jLabel2;
    private javax.swing.JLabel jLabel3;
    private javax.swing.JLabel jLabel4;
    private javax.swing.JLabel jLabel5;
    private javax.swing.JLabel jLabel6;
    private javax.swing.JLabel jLabel7;
    private javax.swing.JLabel jLabel8;
    private javax.swing.JLabel jLabel9;
    private javax.swing.JPanel jPanel1;
    private javax.swing.JPanel jPanel2;
    private javax.swing.JPanel jPanel3;
    private javax.swing.JScrollPane jScrollPane1;
    private javax.swing.JScrollPane jScrollPane2;
    private javax.swing.JSeparator jSeparator1;
    private javax.swing.JPanel pnMenu;
    private javax.swing.JTextField txMaterno;
    private javax.swing.JTextField txNivel;
    private javax.swing.JTextField txNombre;
    private javax.swing.JPasswordField txPassword;
    private javax.swing.JTextField txPaterno;
    private javax.swing.JTextField txRut;
    private javax.swing.JTextField txUsuario;
    // End of variables declaration//GEN-END:variables
}
